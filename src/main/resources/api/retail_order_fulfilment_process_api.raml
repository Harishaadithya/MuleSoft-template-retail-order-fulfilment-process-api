#%RAML 1.0
version: v2.0
title: Retail Order Fulfilment Process API
baseUri: http://localhost:8081/api

uses: 
  order: exchange_modules/47f07e0a-f578-47d4-9591-d9e7afffb0fc.retail/retail_order_types/1.0.22/retail_order_types.raml
  common: exchange_modules/47f07e0a-f578-47d4-9591-d9e7afffb0fc.retail/retail_common/1.0.8/retail_common.raml
  payment: exchange_modules/47f07e0a-f578-47d4-9591-d9e7afffb0fc.retail/retail_payment/1.0.9/retail_payment.raml

types:
  OrderRequest:
    type: object
    properties:
      status: order.Status
      customerId: common.resourceId
      orderItems: order.OrderItemSummary[]

  OrderResponse: 
    type: object
    properties:
      status: 
        type: string
        description: status of order
      identifier: common.resourceId
      message: 
        type: string
        description: information about order
       
/orders:
  post:
    displayName: Create order
    body: 
      application/json: 
        type: OrderRequest
        examples: !include examples/orders-request.raml
    responses:
      201: 
        body: 
          application/json:
            type: OrderResponse 
            examples: !include examples/orders-response.raml
  /{salesOrderId}:
    put:
      displayName: Updates order
      responses:
        200:
          body:
            application/json: 
              type: payment.PaymentResponse
              examples: !include examples/update-order-response.raml